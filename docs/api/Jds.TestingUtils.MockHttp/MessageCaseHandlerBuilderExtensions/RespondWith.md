# MessageCaseHandlerBuilderExtensions.RespondWith method (1 of 2)

Configures the [`MessageCaseHandler`](../MessageCaseHandler.md) to build its responses using a [`HttpResponseMessageBuilder`](../HttpResponseMessageBuilder.md), which exposes a fluent arrangement API.

```csharp
public static MessageCaseHandlerBuilder RespondWith(this MessageCaseHandlerBuilder builder, 
    Func<HttpResponseMessageBuilder, CapturedHttpRequestMessage, CancellationToken, Task<HttpResponseMessageBuilder>> handlerBuilder)
```

| parameter | description |
| --- | --- |
| builder | A [`MessageCaseHandlerBuilder`](../MessageCaseHandlerBuilder.md). |
| handlerBuilder | A Func which configures the [`HandleMessage`](../MessageCaseHandler/HandleMessage.md). |

## Return Value

*builder*

## See Also

* class [MessageCaseHandlerBuilder](../MessageCaseHandlerBuilder.md)
* class [HttpResponseMessageBuilder](../HttpResponseMessageBuilder.md)
* record [CapturedHttpRequestMessage](../CapturedHttpRequestMessage.md)
* class [MessageCaseHandlerBuilderExtensions](../MessageCaseHandlerBuilderExtensions.md)
* namespace [Jds.TestingUtils.MockHttp](../../TestingUtils.MockHttp.md)

---

# MessageCaseHandlerBuilderExtensions.RespondWith method (2 of 2)

Configures the [`MessageCaseHandler`](../MessageCaseHandler.md) to build its responses using a [`HttpResponseMessageBuilder`](../HttpResponseMessageBuilder.md), which exposes a fluent arrangement API.

```csharp
public static MessageCaseHandlerBuilder RespondWith(this MessageCaseHandlerBuilder builder, 
    Func<HttpResponseMessageBuilder, CapturedHttpRequestMessage, HttpResponseMessageBuilder> handlerBuilder)
```

| parameter | description |
| --- | --- |
| builder | A [`MessageCaseHandlerBuilder`](../MessageCaseHandlerBuilder.md). |
| handlerBuilder | A Func which configures the [`HandleMessage`](../MessageCaseHandler/HandleMessage.md). |

## Return Value

*builder*

## See Also

* class [MessageCaseHandlerBuilder](../MessageCaseHandlerBuilder.md)
* class [HttpResponseMessageBuilder](../HttpResponseMessageBuilder.md)
* record [CapturedHttpRequestMessage](../CapturedHttpRequestMessage.md)
* class [MessageCaseHandlerBuilderExtensions](../MessageCaseHandlerBuilderExtensions.md)
* namespace [Jds.TestingUtils.MockHttp](../../TestingUtils.MockHttp.md)

<!-- DO NOT EDIT: generated by xmldocmd for TestingUtils.MockHttp.dll -->
